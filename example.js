const dfd_frame = require('danfojs-node').DataFrame;
const { pillai_test } = require('./ci_test');

// const df = new dfd.DataFrame([
//   { X: 10, Y: 3, Z1: 1, Z2: 5 },
//   { X: 12, Y: 4, Z1: 2, Z2: 6 },
//   { X: 14, Y: 5, Z1: 3, Z2: 7 },
//   { X: 13, Y: 6, Z1: 4, Z2: 8 },
// ]);

const df = new dfd_frame([
  {'X': 73, 'Y': 80, 'Z1': 75, 'Z2': 152},
  {'X': 93, 'Y': 88, 'Z1': 93, 'Z2': 185},
  {'X': 89, 'Y': 91, 'Z1': 90, 'Z2': 180},
  {'X': 96, 'Y': 98, 'Z1': 100, 'Z2': 196},
  {'X': 73, 'Y': 66, 'Z1': 70, 'Z2': 142},
  {'X': 53, 'Y': 46, 'Z1': 55, 'Z2': 101},
  {'X': 69, 'Y': 74, 'Z1': 77, 'Z2': 149},
  {'X': 47, 'Y': 56, 'Z1': 60, 'Z2': 115},
  {'X': 87, 'Y': 79, 'Z1': 90, 'Z2': 175},
  {'X': 79, 'Y': 70, 'Z1': 88, 'Z2': 164},
  {'X': 69, 'Y': 70, 'Z1': 73, 'Z2': 141},
  {'X': 70, 'Y': 65, 'Z1': 74, 'Z2': 141},
  {'X': 93, 'Y': 95, 'Z1': 91, 'Z2': 184},
  {'X': 79, 'Y': 80, 'Z1': 73, 'Z2': 152},
  {'X': 70, 'Y': 73, 'Z1': 78, 'Z2': 148},
  {'X': 93, 'Y': 89, 'Z1': 96, 'Z2': 192},
  {'X': 78, 'Y': 75, 'Z1': 68, 'Z2': 147},
  {'X': 81, 'Y': 90, 'Z1': 93, 'Z2': 183},
  {'X': 88, 'Y': 92, 'Z1': 86, 'Z2': 177},
  {'X': 78, 'Y': 83, 'Z1': 77, 'Z2': 159},
  {'X': 82, 'Y': 86, 'Z1': 90, 'Z2': 177},
  {'X': 86, 'Y': 82, 'Z1': 89, 'Z2': 175},
  {'X': 78, 'Y': 83, 'Z1': 85, 'Z2': 175},
  {'X': 76, 'Y': 83, 'Z1': 71, 'Z2': 149},
  {'X': 96, 'Y': 93, 'Z1': 95, 'Z2': 192}
]);

const result = pillai_test('X', 'Y', ['Z1', 'Z2'], df);
console.log('Canonical Correlation(s):', result);
